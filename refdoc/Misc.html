<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Main_rest.html">
<link rel="next" href="Options.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class attributes" rel=Appendix href="index_attributes.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Index of module types" rel=Appendix href="index_module_types.html">
<link title="Checks" rel="Chapter" href="Checks.html">
<link title="Chn_ast" rel="Chapter" href="Chn_ast.html">
<link title="Chn_diff" rel="Chapter" href="Chn_diff.html">
<link title="Chn_exec" rel="Chapter" href="Chn_exec.html">
<link title="Chn_flat" rel="Chapter" href="Chn_flat.html">
<link title="Chn_inst" rel="Chapter" href="Chn_inst.html">
<link title="Chn_inst_query" rel="Chapter" href="Chn_inst_query.html">
<link title="Chn_io" rel="Chapter" href="Chn_io.html">
<link title="Chn_lookup" rel="Chapter" href="Chn_lookup.html">
<link title="Chn_parser" rel="Chapter" href="Chn_parser.html">
<link title="Chn_run" rel="Chapter" href="Chn_run.html">
<link title="Chn_types" rel="Chapter" href="Chn_types.html">
<link title="Chngui" rel="Chapter" href="Chngui.html">
<link title="Cmdline" rel="Chapter" href="Cmdline.html">
<link title="Config" rel="Chapter" href="Config.html">
<link title="Find" rel="Chapter" href="Find.html">
<link title="Fname" rel="Chapter" href="Fname.html">
<link title="Graph" rel="Chapter" href="Graph.html">
<link title="Grdf_branch" rel="Chapter" href="Grdf_branch.html">
<link title="Grdf_constant" rel="Chapter" href="Grdf_constant.html">
<link title="Grdf_diff" rel="Chapter" href="Grdf_diff.html">
<link title="Grdf_dot" rel="Chapter" href="Grdf_dot.html">
<link title="Grdf_ftype" rel="Chapter" href="Grdf_ftype.html">
<link title="Grdf_init" rel="Chapter" href="Grdf_init.html">
<link title="Grdf_intf" rel="Chapter" href="Grdf_intf.html">
<link title="Grdf_parser" rel="Chapter" href="Grdf_parser.html">
<link title="Grdf_port" rel="Chapter" href="Grdf_port.html">
<link title="Grdf_tool" rel="Chapter" href="Grdf_tool.html">
<link title="Grdf_types" rel="Chapter" href="Grdf_types.html">
<link title="Grdf_version" rel="Chapter" href="Grdf_version.html">
<link title="Grdfs" rel="Chapter" href="Grdfs.html">
<link title="Gui_base" rel="Chapter" href="Gui_base.html">
<link title="Gui_install" rel="Chapter" href="Gui_install.html">
<link title="Gui_main" rel="Chapter" href="Gui_main.html">
<link title="Ind_io" rel="Chapter" href="Ind_io.html">
<link title="Ind_types" rel="Chapter" href="Ind_types.html">
<link title="Install" rel="Chapter" href="Install.html">
<link title="Instgui" rel="Chapter" href="Instgui.html">
<link title="Lexer" rel="Chapter" href="Lexer.html">
<link title="Loc" rel="Chapter" href="Loc.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Main_chain" rel="Chapter" href="Main_chain.html">
<link title="Main_cheat" rel="Chapter" href="Main_cheat.html">
<link title="Main_cmd" rel="Chapter" href="Main_cmd.html">
<link title="Main_diff" rel="Chapter" href="Main_diff.html">
<link title="Main_edit" rel="Chapter" href="Main_edit.html">
<link title="Main_exec" rel="Chapter" href="Main_exec.html">
<link title="Main_genrdfs" rel="Chapter" href="Main_genrdfs.html">
<link title="Main_gui" rel="Chapter" href="Main_gui.html">
<link title="Main_init" rel="Chapter" href="Main_init.html">
<link title="Main_query" rel="Chapter" href="Main_query.html">
<link title="Main_rdf" rel="Chapter" href="Main_rdf.html">
<link title="Main_rest" rel="Chapter" href="Main_rest.html">
<link title="Misc" rel="Chapter" href="Misc.html">
<link title="Options" rel="Chapter" href="Options.html">
<link title="Rdf_sparql" rel="Chapter" href="Rdf_sparql.html">
<link title="Reporter" rel="Chapter" href="Reporter.html">
<link title="Rest_query" rel="Chapter" href="Rest_query.html">
<link title="Rest_types" rel="Chapter" href="Rest_types.html">
<link title="Rest_xhtml" rel="Chapter" href="Rest_xhtml.html">
<link title="Rest_xpage" rel="Chapter" href="Rest_xpage.html">
<link title="Smap" rel="Chapter" href="Smap.html">
<link title="Sset" rel="Chapter" href="Sset.html">
<link title="Tokens" rel="Chapter" href="Tokens.html">
<link title="Toolgui" rel="Chapter" href="Toolgui.html">
<link title="Urimap" rel="Chapter" href="Urimap.html">
<link title="Uriset" rel="Chapter" href="Uriset.html">
<link title="Version" rel="Chapter" href="Version.html"><title>Genet library reference : Misc</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Main_rest.html" title="Main_rest">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Options.html" title="Options">Next</a>
</div>
<h1>Module <a href="type_Misc.html">Misc</a> (<a href="code_Misc.html">.ml</a>)</h1>
<pre><span class="keyword">module</span> Misc: <code class="code">sig</code> <a href="Misc.html">..</a> <code class="code">end</code></pre><div class="info">
Utilities.<br>
</div>
<hr width="100%">
<pre><span id="VALsafe_main"><span class="keyword">val</span> <a href="code_VALMisc.safe_main.html">safe_main</a></span> : <code class="type">(unit -> unit) -> unit</code></pre><div class="info">
<code class="code">safe_main f</code> calls <code class="code">f ()</code> but handles <code class="code">Sys_error</code> and <code class="code">Failure</code>
   exceptions by exiting with error code 1.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALstring_of_opt"><span class="keyword">val</span> <a href="code_VALMisc.string_of_opt.html">string_of_opt</a></span> : <code class="type">string option -> string</code></pre><div class="info">
<code class="code">string_of_opt s_opt</code> returns the empty string if
   <code class="code">s_opt = None</code> or <code class="code">s</code> if <code class="code">s_opt = Some s</code>.<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALopt_of_string"><span class="keyword">val</span> <a href="code_VALMisc.opt_of_string.html">opt_of_string</a></span> : <code class="type">string -> string option</code></pre><div class="info">
<code class="code">opt_of_string s</code> returns <code class="code">None</code> if the string if empty
   (length is 0) or <code class="code">Some s</code>.<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALmap_opt"><span class="keyword">val</span> <a href="code_VALMisc.map_opt.html">map_opt</a></span> : <code class="type">('a -> 'b) -> 'a option -> 'b option</code></pre><pre><span id="VALcreate_log_fun"><span class="keyword">val</span> <a href="code_VALMisc.create_log_fun.html">create_log_fun</a></span> : <code class="type">?prefix:string -><br>       ?print:(string -> unit) -><br>       string -> ?loc:string -> ?level:int -> (unit -> string) -> unit</code></pre><div class="info">
Creating a log function.
  <code class="code">create_log_fun env_var</code> get the log level (an integer) from the given
  environment variable, and returns a function to print messages.
  This function takes a level (default is 1) and a function returning
  the message do print. The function is called only if the log level is
  higher than or equal to the given level.
  The <code class="code">loc</code> parameter of the returned function can be used to indicate
  an additional string to print before the log message.
  If the environment variable is empty or does not contain an integer,
  then the log level is set to 0.<br>
</div>
<div class="param_info"><code class="code">prefix</code> : can be used to indicate a string prefixing every message</div>
<div class="param_info"><code class="code">print</code> : can be given to the function build the log function, to
  indicate an alternative way to display the message; default is to call
  <code class="code">prerr_endline</code>.</div>
<pre><span id="VALcreate_log_fun_with_set"><span class="keyword">val</span> <a href="code_VALMisc.create_log_fun_with_set.html">create_log_fun_with_set</a></span> : <code class="type">?prefix:string -><br>       ?print:(string -> unit) -><br>       string -><br>       (?loc:string -> ?level:int -> (unit -> string) -> unit) * (int -> unit)</code></pre><div class="info">
Same as <code class="code">create_log_fun</code> but also return a function to change
       the log level.<br>
</div>
<pre><span id="VALmkdir"><span class="keyword">val</span> <a href="code_VALMisc.mkdir.html">mkdir</a></span> : <code class="type">?verbose:bool -> string -> unit</code></pre><div class="info">
<code class="code">mkdir dir</code> runs <code class="code">mkdir -p dir</code> in a shell to create the given directory.<br>
<b>Raises</b> <code>Failure</code> if the command fails.<br>
</div>
<div class="param_info"><code class="code">verbose</code> : indicates whether to print a message on stdout. Default is <code class="code">false</code>.</div>
<pre><span id="VALstring_of_file"><span class="keyword">val</span> <a href="code_VALMisc.string_of_file.html">string_of_file</a></span> : <code class="type">string -> string</code></pre><div class="info">
<code class="code">string_of_file filename</code> returns the content of <code class="code">filename</code>
   in the form of one string.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.0<br>
<b>Raises</b> <code>Sys_error</code> if the file could not be opened.<br>
</div>
<pre><span id="VALtry_finalize"><span class="keyword">val</span> <a href="code_VALMisc.try_finalize.html">try_finalize</a></span> : <code class="type">('l -> 'm) -> 'l -> ('n -> unit) -> 'n -> 'm</code></pre><div class="info">
<code class="code">try_finalize f x g y</code> applies <code class="code">f</code> to <code class="code">x</code> and return
   the result or raises an exception, but in all cases
   <code class="code">g</code> is applied to <code class="code">y</code> before returning or raising the exception.<br>
<b>Author(s):</b> Didier Rï¿½my<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALnormalized_path"><span class="keyword">val</span> <a href="code_VALMisc.normalized_path.html">normalized_path</a></span> : <code class="type">string -> string</code></pre><pre><span id="VALfile_of_string"><span class="keyword">val</span> <a href="code_VALMisc.file_of_string.html">file_of_string</a></span> : <code class="type">file:string -> string -> unit</code></pre><div class="info">
<code class="code">file_of_string ~file str</code> creates a file named
   <code class="code">filename</code> whose content is <code class="code">str</code>.<br>
<b>Author(s):</b> Fabrice Lefessant<br>
<b>Version:</b> 1.1<br>
<b>Raises</b> <code>Sys_error</code> if the file could not be opened.<br>
</div>
<pre><span id="VALstrip_string"><span class="keyword">val</span> <a href="code_VALMisc.strip_string.html">strip_string</a></span> : <code class="type">string -> string</code></pre><div class="info">
<code class="code">strip_string s</code> removes all leading and trailing spaces from the given string.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALis_prefix"><span class="keyword">val</span> <a href="code_VALMisc.is_prefix.html">is_prefix</a></span> : <code class="type">string -> string -> bool</code></pre><div class="info">
<code class="code">is_prefix pattern s</code> returns true if string <code class="code">s</code> begins with <code class="code">pattern</code>.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALchop_n_char"><span class="keyword">val</span> <a href="code_VALMisc.chop_n_char.html">chop_n_char</a></span> : <code class="type">int -> string -> string</code></pre><div class="info">
<code class="code">chop_n_char n s</code> returns the given string where characters after position n
   are replaced by <code class="code">"..."</code>.<br>
<b>Version:</b> 1.0<br>
</div>
<pre><span id="VALsplit_string"><span class="keyword">val</span> <a href="code_VALMisc.split_string.html">split_string</a></span> : <code class="type">?keep_empty:bool -> string -> char list -> string list</code></pre><div class="info">
Separate the given string according to the given list of characters.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.1<br>
</div>
<div class="param_info"><code class="code">keep_empty</code> : is <code class="code">false</code> by default. If set to <code class="code">true</code>,
   the empty strings between separators are kept.</div>
<pre><span id="VALis_capitalized"><span class="keyword">val</span> <a href="code_VALMisc.is_capitalized.html">is_capitalized</a></span> : <code class="type">string -> bool</code></pre><pre><span id="VALexec_command"><span class="keyword">val</span> <a href="code_VALMisc.exec_command.html">exec_command</a></span> : <code class="type">string -> string</code></pre><div class="info">
<code class="code">exec_command com</code> executes the given command and returns stdout or
  raise <code class="code">Failure</code> with a message containing stderr if the command fails.<br>
</div>
<pre><code><span id="TYPEgit_status"><span class="keyword">type</span> <code class="type"></code>git_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgit_status.Git_modified"><span class="constructor">Git_modified</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgit_status.Git_id"><span class="constructor">Git_id</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgit_status.Git_unknown"><span class="constructor">Git_unknown</span></span></code></td>

</tr></table>


<pre><span id="VALget_git_id"><span class="keyword">val</span> <a href="code_VALMisc.get_git_id.html">get_git_id</a></span> : <code class="type">string -> string</code></pre><div class="info">
Get the git last commit id of the given file, or raise <code class="code">Failure</code>.<br>
</div>
<pre><span id="VALgit_status"><span class="keyword">val</span> <a href="code_VALMisc.git_status.html">git_status</a></span> : <code class="type">string -> <a href="Misc.html#TYPEgit_status">git_status</a></code></pre><div class="info">
<code class="code">git_status file</code> returns the status of the given file or directory.
     Not that a directory can never have status <code class="code">Git_unknown</code>.<br>
</div>
<pre><span id="VALunique_id"><span class="keyword">val</span> <a href="code_VALMisc.unique_id.html">unique_id</a></span> : <code class="type">unit -> string</code></pre><pre><span id="VALdir_md5sum"><span class="keyword">val</span> <a href="code_VALMisc.dir_md5sum.html">dir_md5sum</a></span> : <code class="type">string -> string</code></pre><pre><span id="VALfile_md5sum"><span class="keyword">val</span> <a href="code_VALMisc.file_md5sum.html">file_md5sum</a></span> : <code class="type">string -> string</code></pre><pre><span id="VALfile_mimetype"><span class="keyword">val</span> <a href="code_VALMisc.file_mimetype.html">file_mimetype</a></span> : <code class="type">string -> string</code></pre><pre><span id="VALcopy_file"><span class="keyword">val</span> <a href="code_VALMisc.copy_file.html">copy_file</a></span> : <code class="type">src:string -> dst:string -> unit</code></pre><pre><span id="VALpath_under"><span class="keyword">val</span> <a href="code_VALMisc.path_under.html">path_under</a></span> : <code class="type">parent:string -> string -> string</code></pre><div class="info">
<code class="code">path_under ~parent file</code> returns the path to <code class="code">file</code> from <code class="code">parent</code>.<br>
<b>Raises</b> <code>Failure</code> if <code class="code">parent</code> is not a prefix of <code class="code">file</code>.<br>
</div>
<pre><span id="VALsplit_filename"><span class="keyword">val</span> <a href="code_VALMisc.split_filename.html">split_filename</a></span> : <code class="type">string -> string list</code></pre><pre><span id="VALlist_diff"><span class="keyword">val</span> <a href="code_VALMisc.list_diff.html">list_diff</a></span> : <code class="type">?pred:('a8 -> 'a8 -> bool) -> 'a8 list -> 'a8 list -> 'a8 list</code></pre><div class="info">
<code class="code">list_diff l1 l2</code> returns the list <code class="code">l1 - l2</code>.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.0<br>
</div>
<div class="param_info"><code class="code">pred</code> : can be sued to specify the equality predicate (default is <code class="code">(=)</code>).</div>
<pre><span id="VALreplace_in_string"><span class="keyword">val</span> <a href="code_VALMisc.replace_in_string.html">replace_in_string</a></span> : <code class="type">pat:string -> subs:string -> s:string -> string</code></pre><div class="info">
<code class="code">replace_in_string ~pat ~subs ~s</code> replaces all occurences of
   pattern <code class="code">pat</code> by <code class="code">subs</code> in string <code class="code">s</code>.<br>
<b>Author(s):</b> Maxence Guesdon<br>
<b>Version:</b> 1.0<br>
</div>
</body></html>