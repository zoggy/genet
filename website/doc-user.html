title:User documentation
<->
<prepare-toc depth="2">
<toc>Table of contents</toc>
<div class="alert alert-warning">
We assume Genet was correctly installed (see <page href="doc-install#installation"/>)
and the various <icode>genet*</icode> tools are in your <icode>PATH</icode>.
</div>

<section name="setup" title="Set up a new project">
<subsection name="setup:init-dir" title="Create your project directory">
<p>
All data of your Genet project will reside in a single directory, with
the following structure:
</p>
<ul>
<li><icode>out/</icode>: will contains the results files.</li>
<li><icode>in/</icode>: will contain all the system needs to compute results, in
addition the contents of the database;
  <ul>
  <li><icode>chains/</icode>: the description of execution chains.</li>
  <li><icode>data/</icode>: the examples and test cases the chains will be applied on.</li>
  <li><icode>web/</icode>: the directory containg web files;
    <ul>
    <li><icode>tmpl/</icode>: the template directory.</li>
    <li><icode>style.css</icode>: the CSS stylesheet.</li>
    <li>other files needed, like images, ...</li>
    </ul>
  </li>
  </ul>
</li>
<li><icode>config.txt</icode>: the configuration file describing the project,
  including database access information.</li>
</ul>
<p>
The following command can create this directory struture (if no
<icode>[directory]</icode> is provided, the structure is created in
the current directory):
<command-line>
genet init-dir [directory]
</command-line>
</p>
<p>
If the <icode>in</icode> directory will be a git clone, you can specify
the git repository to clone with the <icode>-git</icode> option:
<command-line>
genet init-dir -git git@foo.bar:my/git/respository.git [directory]
</command-line>
Required directories in the cloned repository are not created by the tool.
</p>
</subsection>

<subsection name="setup:config-file" title="Edit the configuration file">
<p>
The generated configuration file has the following form:
<hcode defer_="1"><include file="../../src/config.txt"/>
</hcode>
Edit the generated file and adapt it to your project.
</p>
</subsection>

<subsection name="setup:create-db" title="Create the database">
<p>Genet uses a database to store a part of its information.</p>
<p>
You must now create the database you will use, that is the one
you indicated in <a href="#setup:config-file">the configuration file</a>.
Do not forget to give read and write permissions on the database to
the user specified in the configuration file.
</p>
<p>
With mysql as database backend:
<hcode>
# mysql -u root -p
mysql> create database &lt;db&gt;;
mysql> grant all privileges on &lt;db&gt;.* to &lt;dbuser&lt;@localhost identified by "&lt;dbpasswd&gt;";
</hcode>
</p>
<p>
With postgresql:
<hcode lang="sql">
# su
# su postgres
# createuser [ --superuser ] &lt;dbuser&gt;
# ^D
# ^D
# createdb -E UTF8 -T template0  &lt;db&gt;
</hcode>
Refer to some <ext-a href="https://help.ubuntu.com/community/PostgreSQL">Postgresql documentation</ext-a> for details.
</p>
</subsection>

<subsection name="setup:init-db" title="Initialize the database">
<p>
<command-line>
genet init-db
</command-line>
</p>
<p>
If the configuration file is not <icode>config.txt</icode>, you can specify
another with the <icode>-c</icode> option:
<command-line>
genet init-db -c myfile.txt
</command-line>
</p>
</subsection>
</section>

<section name="chains" title="Define execution chains">
<p>
bla bla bla
</p>
</section>

</prepare-toc>